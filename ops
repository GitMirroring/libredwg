{"version":1,"ops":[{"type":1,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544602833,"metadata":{"github-id":"MDU6SXNzdWUzOTAxMTIwMTA=","github-url":"https://github.com/LibreDWG/libredwg/issues/70","origin":"github"},"title":"BITCODE_MC needs to read from 5 bytes, not 4","message":"MC:\nRead 1 modular char (max 5 bytes, signed).\nRead bytes until the high bit of the byte is 0, drop the highest bit and pad with 0.\nIf the last byte has 0x40 set, it's negative.\nSince the result is int32_t (4 byte), but there needs to be the high/follow bit set,\nthe stream can be max 5 byte long (5*7 = 35 bit)\n```\n    10000000 10000000 10000000 10000000 00000100\n =\u003e  0000000  0000000  0000000  0000000  0000100 (5*7 = 35)\n =\u003e 00001000 00000000 00000000 00000000          (4*8 = 32)\n```\nWith 4 byte only 4*7=28 bit can be represented, the highest 4 (from 32) are missing for large offsets.\n\nDetected and fixed by @DenisPryt in #65","files":null}]}