{"version":1,"ops":[{"type":3,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1581906002,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4Njc5MDQwNw==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-586790407"},"message":"### UPDATE:\n\nA package was discovered in the default apt-cache named:\nlibconvert-binary-c-perl\n\nThe above named package was installed, however, this made no difference after \"make\" and \"make check\". The same error as before still persists.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581943459,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4Njk3NjgwOA==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-586976808"},"message":"1. What perl module is needed to get past the make check error shown below?\n(see the \"04 output:\" of the \"Description of the problem:\" section shown below.)\n\nNone. The problem loading a non-matching older shared library.\n\nDelete any older libredwg shared library from your system, which is loaded before the current one.","files":null},{"type":3,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1581947283,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NzAwMTkwMw==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-587001903"},"message":"Thanks rurban.\n\nI get the following from ldd:\n```\nldd ./bindings/perl/blib/arch/auto/LibreDWG/LibreDWG.so\n\tlinux-vdso.so.1 (0x00007ffdf8bfa000)\n\tlibc.so.6 =\u003e /lib/x86_64-linux-gnu/libc.so.6 (0x00007f648ba8f000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f648ca44000)\n````\nI'm researching how to track this down now. I'll see if I can find someone who's done this before.\n\nThanks again for pointing me in the right direction.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581947393,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NzAwMjY5MA==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-587002690"},"message":"ldd doesn't help, the so is loaded at runtime via dl_load. export PERL_DL_DEBUG=5 should help.","files":null},{"type":3,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1581950767,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NzAyNzM0MA==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-587027340"},"message":"Thanks again. Very helpful. \n\nOut of curiosity I checked the latest pre-release package [0.10.1.2905](https://github.com/LibreDWG/libredwg/releases/tag/0.10.1.2905) but it failed on configure. However this is off topic and would need its own issue tracking.\n\nI'm going back to testing the github clone using the environment variable you've suggested now.","files":null},{"type":3,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1581954652,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NzA1NTMyMQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-587055321"},"message":"### Update:\nAfter, export PERL_DL_DEBUG=5, and after \"make check\" on a clone of this mornings github for libredwg, there is a warning about a missing \"swig_perl.c\" (see below), and a more descripting fail message.\n\n### Question:\n- How do I identify if a library is \"old\" in the context of what LibreDWG requires?\n\n### Latest \"make check\" result:\n```\n...\nmake[2]: Entering directory '~/Programs/libredwg/doc'\necho make regen-dynapi might be needed\nmake regen-dynapi might be needed\n...\nmake[3]: Entering directory '~/Programs/libredwg/bindings'\ncd perl \u0026\u0026 \\\n  /usr/bin/perl Makefile.PL PERL=\"/usr/bin/perl\" INSTALLDIRS=site\nChecking if your kit is complete...\nWarning: the following files are missing in your kit:\n\tswig_perl.c\nPlease inform the author.\n...\nmake[4]: Entering directory '~/Programs/libredwg/bindings/perl'\n/usr/bin/perl -MExtUtils::Command::MM -e 'cp_nonempty' -- LibreDWG.bs blib/arch/auto/LibreDWG/LibreDWG.bs 644\nPERL_DL_NONLAZY=1 \"/usr/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nDynaLoader.pm loaded (/etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base, /usr/local/lib /usr/lib/gcc/x86_64-linux-gnu/7/include-fixed /usr/include/x86_64-linux-gnu /usr/lib /lib/x86_64-linux-gnu /lib/../lib /usr/lib/x86_64-linux-gnu /usr/lib/../lib /lib ~/Programs/libredwg/src/.libs)\nDynaLoader::bootstrap for Time::HiRes (auto/Time/HiRes/HiRes.so)\nt/0_basic.t .. DynaLoader.pm loaded (~/Programs/libredwg/bindings/perl/blib/lib ~/Programs/libredwg/bindings/perl/blib/arch /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base ., /usr/local/lib /usr/lib/gcc/x86_64-linux-gnu/7/include-fixed /usr/include/x86_64-linux-gnu /usr/lib /lib/x86_64-linux-gnu /lib/../lib /usr/lib/x86_64-linux-gnu /usr/lib/../lib /lib ~/Programs/libredwg/src/.libs)\nDynaLoader::bootstrap for mro (auto/mro/mro.so)\nDynaLoader::bootstrap for LibreDWG (auto/LibreDWG/LibreDWG.so)\nt/0_basic.t .. 1/1 \n#   Failed test 'use LibreDWG;'\n#   at t/0_basic.t line 2.\n#     Tried to use 'LibreDWG'.\n#     Error:  Can't load '~/Programs/libredwg/bindings/perl/blib/arch/auto/LibreDWG/LibreDWG.so' for module LibreDWG: ~/Programs/libredwg/bindings/perl/blib/arch/auto/LibreDWG/LibreDWG.so: undefined symbol: dwg_get_entity_layer at /usr/lib/x86_64-linux-gnu/perl/5.26/DynaLoader.pm line 187.\n#  at ~/Programs/libredwg/bindings/perl/blib/lib/LibreDWG.pm line 11.\n# Compilation failed in require at t/0_basic.t line 2.\n# BEGIN failed--compilation aborted at t/0_basic.t line 2.\n# Looks like you failed 1 test of 1.\nt/0_basic.t .. Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/1 subtests \n...\n```\n\n***P.S.*** Thanks again for all the help. I know your busy, and I really appreciate your time. Thank you.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581961676,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NzEwMTA4OQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-587101089"},"message":"old is a version without dwg_get_entity_layer, as the error message says. So the correct binding is dlloaded, auto/LibreDWG/LibreDWG.so, and this loads the main so, in your case a version without dwg_get_entity_layer. There should be some GLIBC MALLOC debugging var to see which dependent so is loaded.","files":null},{"type":3,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1581972013,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NzE1MDU2Mg==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-587150562"},"message":"Thank you for the clarification and again for pointing me to something I can read more about.\n\nI must return to work and will most likely not be able to respond again until Friday. Thank you again for your help and support.","files":null},{"type":5,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1582319029,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMwNjE5MTI4OTI="},"added":["invalid"],"removed":[]},{"type":3,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1583592296,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5NjA5NTY2NQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/203#issuecomment-596095665"},"message":"Apologies for any one reading this thread, but I do not have time to track this down due to work hours. Thank you to Rurban for pointing me in a helpful direction. Keep up the great work! :)","files":null},{"type":4,"author":{"id":"c6e7d2f14903efaf31af39962996c875d26e8b83"},"timestamp":1583592296,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzEwNzc1NjEyMw=="},"status":2}]}