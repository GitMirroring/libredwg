{"version":1,"ops":[{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530166494,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDg0MjE2Nw==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400842167"},"message":"I see, HATCH handle: 0.3.1E9F74 [5] in CascoUrbano.dwg is wrong.\nWill check.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530166494,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMjI1NTA1Nw=="},"target":"3ccd474e8e466d7815c9220f3f126fa4e11d6d1d32154aece58a99efe5865ad9","message":"I see, HATCH handle: 0.3.1E9F74 [5] in CascoUrbano.dwg is wrong.\nWill check.\n\nThe problem is not with the HATCH itself, but earlier from the common_entity_data already with the colors. So it affects all entities. Thanks a lot!","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530172000,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMjI4MzQ5MQ=="},"target":"3ccd474e8e466d7815c9220f3f126fa4e11d6d1d32154aece58a99efe5865ad9","message":"I see, HATCH handle: 0.3.1E9F74 [5] in CascoUrbano.dwg is wrong.\nWill check.\n\nThe problem is not with the HATCH itself, but earlier from the common_entity_data already with the colors. So it affects all entities with RGB colors. Thanks a lot!","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530172036,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMjI4MzY2NA=="},"target":"3ccd474e8e466d7815c9220f3f126fa4e11d6d1d32154aece58a99efe5865ad9","message":"I see, HATCH handle: 0.3.1E9F74 [5] in CascoUrbano.dwg is wrong.\nWill check.\n\nThe problem is not with the HATCH itself, but earlier from the common_entity_data already with the colors. So it affects all entities with RGB colors. Thanks a lot!\nWorking on it in the `smoke/enc` branch","files":null},{"type":3,"author":{"id":"4cf536cff2b14bd1d80398e860d44cd4456d4689"},"timestamp":1530173499,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk1MDgyNA==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400950824"},"message":"Great :) Thanks for fast response.","files":null},{"type":4,"author":{"id":"4cf536cff2b14bd1d80398e860d44cd4456d4689"},"timestamp":1530173504,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTcwNTY5ODc0NQ=="},"status":2},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530173546,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQxNzA1Njk5OTMx"},"status":1},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530179176,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk3ODI3MA==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400978270"},"message":"I could fix this bug now. It was of course another ODA spec bug with RBG colors.\n\nThe colors of gradient HATCH'es are still not fully converted to DXF properly though. There are some special tricks. Will do this later.","files":null},{"type":3,"author":{"id":"4cf536cff2b14bd1d80398e860d44cd4456d4689"},"timestamp":1530179642,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk4MDUyNQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400980525"},"message":"Are your commits for rgb colors final, because I applied them fast way but still get corrupted hatch (number of gradient colors is too big and I get corrupted name strings) ?","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530180018,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk4MTgyNg==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400981826"},"message":"Nope, not yet. Still get corrupted 2013 DWGs.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530180018,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMjMzNDAzMA=="},"target":"f60724029f55fc1d7aa223ff05e71848800e1de0f2efdba6f57b1efc9cd670ee","message":"Nope, not yet. Still get corrupted 2013 DWGs and nan's.","files":null},{"type":3,"author":{"id":"4cf536cff2b14bd1d80398e860d44cd4456d4689"},"timestamp":1530180744,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk4NTQ2Mg==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400985462"},"message":"For v2004 I get corrupted hatch only if color has together AcDbColor reference (0x40) and complex color (0x80)","files":null},{"type":3,"author":{"id":"4cf536cff2b14bd1d80398e860d44cd4456d4689"},"timestamp":1530181201,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk4NzQzMA==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400987430"},"message":"for 2013 I'm not sure about reading has_ds_binary_data. ODA spec says so, but reading this byte corrupts next reading.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530183720,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDk5NzQ1MQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-400997451"},"message":"Exactly, this is wrong. Just deleted it by myself some minutes ago. Great analysis","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530183720,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMjM1NTAyNA=="},"target":"8762315566c423d08d741d41d06448c8d50d70c264589ba801c9f28dc872bdf5","message":"Exactly, this is wrong. Just deleted it by myself some minutes ago. Great analysis.\nIt's basically the same as nolinks.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530184224,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMjM1NzQyNg=="},"target":"8762315566c423d08d741d41d06448c8d50d70c264589ba801c9f28dc872bdf5","message":"Exactly, this is wrong. Just deleted it by myself some minutes ago. Great analysis.\nIt's basically the same as nolinks.\n\nb974888a should have it fixed.","files":null},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530190052,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTcwNjI0NDIzMQ=="},"status":2},{"type":3,"author":{"id":"4cf536cff2b14bd1d80398e860d44cd4456d4689"},"timestamp":1530190073,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMTAyMjUxMA==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-401022510"},"message":"Ok, I figured out where the problem occurs. Here is extracted hatch 0x1E9F74 and screenshot from editor \n[hatch_with_color_ref.zip](https://github.com/LibreDWG/libredwg/files/2145270/hatch_with_color_ref.zip)\nGradient has two colors : reference color DIC6 and white color. To decode the colors correctly you must check the ignored_color_byte of Dwg_HATCH_Color that is really flags like in ENC: (flags \u0026 1) is color.name, (flags \u0026 2) is color.book_name. In this case it's value of 3 so you need to read FIELD_T twice.\n\nAlso after tests I think that in ENC decoder if you have (flags \u0026 0x40) then you should ignore (flags \u0026 0x80) because the color value you will read in COMMON_ENTITY_HANDLE_DATA. \n\nODA spec is really buggy.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530191132,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMTAyNzQ2Nw==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-401027467"},"message":"I'll leave now for holidays for a week, and will incooperate this into the next release. \nI think the 2 strings name and book_name are only for entities, not for objects, but I'll have to check your new example still.\n\nYes, the color handle is read from COMMON_ENTITY_HANDLE_DATA. There needs to be a check for the flag \u0026 0x40.","files":null},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530191132,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQxNzA2MjgyOTI4"},"status":1},{"type":5,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1531652619,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE3MzQxNzMxMTc="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1532353677,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwNzA2MzcyNQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/27#issuecomment-407063725"},"message":"gradient_fills are now stable","files":null},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1532353677,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTc0Nzc1NTc2NQ=="},"status":2}]}