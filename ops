{"version":1,"ops":[{"type":1,"author":{"id":"92d786e78a13918866d6b1068d3f0983fe3b982d"},"timestamp":1578637030,"metadata":{"github-id":"MDU6SXNzdWU1NDc4ODc3Mjc=","github-url":"https://github.com/LibreDWG/libredwg/issues/182","origin":"github"},"title":"Several bugs found by fuzzing","message":"Hi,\nAfter fuzzing libredwg, I found the following bugs on the latest commit on master.\nCommand: ./dwg2SVG $PoC\n**1.NULL pointer dereference in htmlescape ../../programs/escape.c:29**\nPOC: https://github.com/linhlhq/research/blob/master/PoCs/libreDWG_7b9cb829/id:000013%2Csig:06%2Csrc:000000%2Cop:flip1%2Cpos:46417\nASAN says:\n```\n=================================================================\n==19607==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x7f433bb56646 bp 0x7ffed1176670 sp 0x7ffed1175de8 T0)\n==19607==The signal is caused by a READ memory access.\n==19607==Hint: address points to the zero page.\n    #0 0x7f433bb56645  (/lib/x86_64-linux-gnu/libc.so.6+0xb1645)\n    #1 0x7f433c28557b  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0x5157b)\n    #2 0x55950b27cdd4 in htmlescape ../../programs/escape.c:29\n    #3 0x55950b27abb5 in output_TEXT ../../programs/dwg2SVG.c:113\n    #4 0x55950b27abb5 in output_object ../../programs/dwg2SVG.c:312\n    #5 0x55950b27abb5 in output_BLOCK_HEADER ../../programs/dwg2SVG.c:371\n    #6 0x55950b278477 in output_SVG ../../programs/dwg2SVG.c:411\n    #7 0x55950b278477 in main ../../programs/dwg2SVG.c:525\n    #8 0x7f433bac6b96 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)\n    #9 0x55950b278d19 in _start (/home/user/linhlhq/libredwg/asan_build/programs/dwg2SVG+0x27ad19)\n\nAddressSanitizer can not provide additional info.\nSUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libc.so.6+0xb1645)\n==19607==ABORTING\n```","files":null}]}