{"version":1,"ops":[{"type":3,"author":{"id":"91c03c2a61832454b51583c4b70919b2a4e98d81"},"timestamp":1582973392,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5MjkzMjA1Nw==","github-url":"https://github.com/LibreDWG/libredwg/issues/195#issuecomment-592932057"},"message":"thanks for working on this issue and sry for not reporting earlier. I tested with libredwg \nand see this output for the export:\n\n```\nWarning: dxf2dwg is still highly experimental.\nReading DXF file /tmp/tmp0s3hle72/test1.dxf\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 3 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 4 for 1th entry\nWarning: Misleading LAYER_CONTROL.num_entries 5 for 2th entry\nWarning: Misleading STYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading STYLE_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading APPID_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading APPID_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading DIMSTYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nERROR: Unexpected DXF end-of-file\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 31 objects\nWarning: Object handle not found, 12/C in 31 objects\nWriting DWG file /home/lo/Schreibtisch/test1.dwg\n```\n\nI tested to open the exported dwg with qcad and librecad, but it doesn't seem to work.","files":null},{"type":3,"author":{"id":"91c03c2a61832454b51583c4b70919b2a4e98d81"},"timestamp":1583854019,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5NzE0ODUxMg==","github-url":"https://github.com/LibreDWG/libredwg/issues/195#issuecomment-597148512"},"message":"Basic export import test is still not working with v0.10.1.2986:\n\nwriting:\n```\nWarning: dxf2dwg is still highly experimental.\nReading DXF file /tmp/tmp85nv60zf/test_1.dxf\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nERROR: Unexpected DXF end-of-file\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 31 objects\nWarning: Object handle not found, 12/C in 31 objects\nWriting DWG file /home/lo/Schreibtisch/test_1.dwg\n\n```\n\nreading:\n```\nReading DWG file /home/lo/Schreibtisch/test_1.dwg\nWarning: Invalid handle-reference, longer than 8 bytes: 4.9.0\nWarning: Invalid handle-reference, longer than 8 bytes: 10.10.0\nWarning: Invalid handle-reference, longer than 8 bytes: 10.10.0\nWarning: Invalid handle-reference, longer than 8 bytes: 10.10.0\nERROR: bit_read_BD: unexpected 2-bit code: '11'\nERROR: Invalid 3BD EXTMIN\nWarning: Ignore invalid handleoff (@2533)\nERROR: Invalid object handle 0.0.0 at pos @6.2\nERROR: bit_read_TV buffer overflow at 91, length 256\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_advance_position buffer overflow at pos 118, size 119, advance by 1\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_advance_position buffer overflow at pos 118, size 119, advance by 2\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_read_RC buffer overflow at 119\nERROR: bit_advance_position buffer overflow at pos 118, size 119, advance by 2\nERROR: bit_read_BD: unexpected 2-bit code: '11'\nERROR: Invalid BD DIMTSZ\nWarning: Ignore invalid handleoff (@2574)\nWarning: Object handle not found, 1/1 in 31 objects\nWriting DXF file /tmp/tmpn1h07oxu/test_1.dxf\nERROR: BLOCK_HEADER.block_entity missing\n\n```","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1586588026,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxMjMzODcwMQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/195#issuecomment-612338701"},"message":"I've made all Unknown DXF codes an hard error on all stable/supported objects.\nUnstable objects are not imported to DWG, but replaced by a DUMMY placeholder.\n\nUnstable objects are still tried to be parsed tough, so some of those warnings may still appear. Esp. the overflows, which will appear on parsing errors. There might be even more, as now the parser buffer is restricted to a single object to avoid overflows.\nYou'll care mostly about entities (graphical objects), where only a few are remaining unstable.\nRoundtrips are now hardened and tested ok.\n\nI've added a better internal interchange format as JSON, which can be tested much easier. \nThe importer is very general, not so many special cases as with DXF.\nWith this format and roundtrips I could fix many remaining encoder errors.\n\n3DSOLID's ACIS entities and MESH/SURFACE are still problematic, esp. with the new AcDs data storage and the Binary SAT format. Older formats do like fine.\n\nI'm not so sure about SPLINE's. Looks like they are undertested, and the DXF format is very confusing. The two scenarios (rational B-Spline and Bezier, i.e. fit pts or not) are being mixed up there.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1586588026,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6MzY0NTAzNjU4"},"target":"68f7f0b2ea0c086c29516dd6ffeff03dcbd8ab728268ee232aa95d3a6d60d371","message":"I've made all Unknown DXF codes an hard error on all stable/supported objects.\nUnstable objects are not imported to DWG, but replaced by a DUMMY placeholder.\n\nUnstable objects are still tried to be parsed tough, so some of those warnings may still appear. Esp. the overflows, which will appear on parsing errors. There might be even more, as now the parser buffer is restricted to a single object to avoid overflows.\nYou'll care mostly about entities (graphical objects), where only a few are remaining unstable.\nRoundtrips are now hardened and tested ok.\n\nI've added a better internal interchange format as JSON, which can be tested much easier. \nThe importer is very general, not so many special cases as with DXF.\nWith this format and roundtrips I could fix many remaining encoder errors.\n\n3DSOLID's ACIS entities and MESH/SURFACE are still problematic, esp. with the new AcDs data storage and the Binary SAT format. Older formats do work fine.\n\nI'm not so sure about SPLINE's. Looks like they are undertested, and the DXF format is very confusing. The two scenarios (rational B-Spline and Bezier, i.e. fit pts or not) are being mixed up there.","files":null}]}