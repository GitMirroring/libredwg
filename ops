{"version":1,"ops":[{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530091547,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMTg1MzQ1Ng=="},"target":"e72a52140750a0d8ba032908ec30d765c787abd14f86b0bc33b33bcbbb904e8d","message":"I has downloaded the zip, I want to use this library in windows. I created a C++ project and add the dwg.h into the head like this: extern \"C\"{\n#include \u003cdwg.h\u003e\n}\nand I copyed codes like this:\n```\nvoid main(){\n\tconst char * inputFilename = \"XXXX.dwg\";\n\tDwg_Data dwg = new Dwg_Data();\n\tint errno = dwg_read_file((char *)inputFilename, dwg);\n\tif (errno) {\n\t\tfprintf(stderr, \"Could not open DWG. Returned error code: $d\\n\", errno);\n\t\tdelete dwg;\n\t}\n\n\tDwg_Object_BLOCK_CONTROL * ctrl = dwg-\u003eobject[0].tio.object-\u003etio.BLOCK_CONTROL;\n\tdumpBlock(ctrl-\u003emodel_space);\n\tdumpBlock(ctrl-\u003epaper_space);\n\n\tfor (int i = 0; i \u003c ctrl-\u003enum_entries; i++) {\n\t\tdumpBlock(ctrl-\u003eblock_headers[i]);\n\t}\n\tdwg_free(dwg);\n\n}\n```\nbut there are many bugs. what's wrong? Is that I can't add the dwg.h directly??? I'm not practice in writing codes.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530091565,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMTg1MzU3NA=="},"target":"e72a52140750a0d8ba032908ec30d765c787abd14f86b0bc33b33bcbbb904e8d","message":"I has downloaded the zip, I want to use this library in windows. I created a C++ project and add the dwg.h into the head like this: \n```\nextern \"C\"{\n  #include \u003cdwg.h\u003e\n}\n```\nand I copyed codes like this:\n```\nvoid main(){\n\tconst char * inputFilename = \"XXXX.dwg\";\n\tDwg_Data dwg = new Dwg_Data();\n\tint errno = dwg_read_file((char *)inputFilename, dwg);\n\tif (errno) {\n\t\tfprintf(stderr, \"Could not open DWG. Returned error code: $d\\n\", errno);\n\t\tdelete dwg;\n\t}\n\n\tDwg_Object_BLOCK_CONTROL * ctrl = dwg-\u003eobject[0].tio.object-\u003etio.BLOCK_CONTROL;\n\tdumpBlock(ctrl-\u003emodel_space);\n\tdumpBlock(ctrl-\u003epaper_space);\n\n\tfor (int i = 0; i \u003c ctrl-\u003enum_entries; i++) {\n\t\tdumpBlock(ctrl-\u003eblock_headers[i]);\n\t}\n\tdwg_free(dwg);\n\n}\n```\nbut there are many bugs. what's wrong? Is that I can't add the dwg.h directly??? I'm not practice in writing codes.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530091632,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQwMDYwNTI5Mg==","github-url":"https://github.com/LibreDWG/libredwg/issues/26#issuecomment-400605292"},"message":"`Dwg_Data dwg = new Dwg_Data();` and `delete dwg` is for sure wrong. \nThere's no Dwg_Data C++ class.\n\nWrite C code please, or use LibreDWG as external C, not as C++.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530091632,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMTg1Mzk5Mg=="},"target":"ef64990a86d01ec10f3533ddab16ee971689b5b3344ecc2d6579311e1f10ae46","message":"`Dwg_Data dwg = new Dwg_Data();` and `delete dwg` is for sure wrong. \nThere's no Dwg_Data C++ class.\n\nWrite C code please, or use LibreDWG as external C, not as C++.\n\nIn your case the fix would be:\n```\nDwg_Data dwg;\nint errno = dwg_read_file((char *)inputFilename, \u0026dwg);\n```\nand so on.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530091687,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDEwMTg1NDMyOQ=="},"target":"ef64990a86d01ec10f3533ddab16ee971689b5b3344ecc2d6579311e1f10ae46","message":"`Dwg_Data dwg = new Dwg_Data();` and `delete dwg` is for sure wrong. \nThere's no Dwg_Data C++ class.\n\nWrite C code please, or use LibreDWG as external C, not as C++.\n\nIn your case the fix would be:\n```\nDwg_Data dwg;\nint errno = dwg_read_file((char *)inputFilename, \u0026dwg);\n```\nand so on.\n\nWe don't do support with generic C++ problems here. We use C.","files":null},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1530179021,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTcwNTg5NDc3NQ=="},"status":2}]}