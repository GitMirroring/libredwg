{"version":1,"ops":[{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544081932,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE1OTI4NTU0Ng=="},"target":"d877a0d21bfdb2b9b552d741d8d416be6360aee3285131ccabb118aa9bf48048","message":"In principle like [osmfilter](https://wiki.openstreetmap.org/wiki/Osmfilter), but with a sane query expression language.\nEither XPath or jsonpath wth the dot. notation seem to be the best fit.\n\nBy default pure, only display the result of the filter query.\nIt also needs to handle destructive changes: --delete and --keep for simple boolean queries\nand maybe also changes (renames, transform) by assignment ops (+=) or s///.\n\ndepends on: #59","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544106172,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE1OTQzMDQyMw=="},"target":"d877a0d21bfdb2b9b552d741d8d416be6360aee3285131ccabb118aa9bf48048","message":"In principle like [osmfilter](https://wiki.openstreetmap.org/wiki/Osmfilter), but with a sane query expression language.\nEither XPath or JSONPath with the dot. notation seem to be the best fit.\n\n *   The query expression should look a bit like https://istio.io/docs/reference/config/policy-and-telemetry/expression-language/\n *   XPath supports trees, we only have a list, so `/` or `//` is unneeded.\n *   JSONPath uses the nicer dot syntax for fields, but is a bit too limited.\n\nBy default pure, only display the result of the filter query.\nIt also needs to handle destructive changes: --delete and --keep for simple boolean queries\nand maybe also changes (renames, transform) by assignment ops (+=) or s///.\n\ndepends on: #59","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544106182,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE1OTQzMDQ5Nw=="},"target":"d877a0d21bfdb2b9b552d741d8d416be6360aee3285131ccabb118aa9bf48048","message":"In principle like [osmfilter](https://wiki.openstreetmap.org/wiki/Osmfilter), but with a sane query expression language.\nEither XPath or JSONPath with the dot. notation seem to be the best fit.\n\n *   The query expression should look a bit like https://istio.io/docs/reference/config/policy-and-telemetry/expression-language/\n *   XPath supports trees, we only have lists, so `/` or `//` is unneeded.\n *   JSONPath uses the nicer dot syntax for fields, but is a bit too limited.\n\nBy default pure, only display the result of the filter query.\nIt also needs to handle destructive changes: --delete and --keep for simple boolean queries\nand maybe also changes (renames, transform) by assignment ops (+=) or s///.\n\ndepends on: #59","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544106199,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE1OTQzMDY0OQ=="},"target":"d877a0d21bfdb2b9b552d741d8d416be6360aee3285131ccabb118aa9bf48048","message":"In principle like [osmfilter](https://wiki.openstreetmap.org/wiki/Osmfilter), but with a sane query expression language.\nSomething like XPath or JSONPath with the dot. notation seem to be the best fit.\n\n *   The query expression should look a bit like https://istio.io/docs/reference/config/policy-and-telemetry/expression-language/\n *   XPath supports trees, we only have lists, so `/` or `//` is unneeded.\n *   JSONPath uses the nicer dot syntax for fields, but is a bit too limited.\n\nBy default pure, only display the result of the filter query.\nIt also needs to handle destructive changes: --delete and --keep for simple boolean queries\nand maybe also changes (renames, transform) by assignment ops (+=) or s///.\n\ndepends on: #59","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544781293,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE2MjUzNTU5MQ=="},"target":"d877a0d21bfdb2b9b552d741d8d416be6360aee3285131ccabb118aa9bf48048","message":"In principle like [osmfilter](https://wiki.openstreetmap.org/wiki/Osmfilter), but with a sane query expression language.\nSomething like XPath or JSONPath with the dot. notation seem to be the best fit.\n\n *  The query expression should look a bit like https://istio.io/docs/reference/config/policy-and-telemetry/expression-language/\n *  XPath supports trees, we only have lists, so `/` or `//` is unneeded.\n *  JSONPath uses the nicer dot syntax for fields, but is a bit too limited.\n *  Implementing a query language (parser, bytecode, vm) seems to be overkill, so rather just pass it through jq (https://stedolan.github.io/jq/manual/v1.6/) as json. This way dwgfilter can even be a simple shell script.\n\nBy default pure, only display the result of the filter query.\nIt also needs to handle destructive changes: --delete and --keep for simple boolean queries\nand maybe also changes (renames, transform) by assignment ops (+=) or s///.\n\ndepends on: #59","files":null},{"type":5,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1544081873,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDkxMjE4NTQ="},"added":["enhancement"],"removed":[]},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1561461550,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwNTQwMDM1OQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-505400359"},"message":"Was this released in 0.8 ?","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1561461666,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwNTQwMDkyNQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-505400925"},"message":"Nope, sorry\nI just released the latest updates, because I'm busy with something else and it will need a few months until the next update.","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1579273856,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3NTY2NDkwMw==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-575664903"},"message":"Hi @rurban been a while, I still very much need the functionality but am getting build errors when trying to build from https://github.com/LibreDWG/libredwg/commit/24695ce04c43403a152c8899e222157d1d7061a3 any updates or anything I can do to help ?","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1579275705,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3NTY3NzQ4OQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-575677489"},"message":"The current plan is to use jq as filter with json out | jq | json in.\nWhat's missing is the json importer on which I will start working soon. I already finished the much harder dxf importer, so json will be much easier.","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1579277894,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3NTY5MjcyOA==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-575692728"},"message":"Hi ruban, \n\nI have managed to modify the program to get it \"working\" but the output isn't particularly clear to me (maybe my modifications have broken things) \n\nFirst i have disabled the functions \n```\nmatch_MLINESTYLE\nmatch_LAYER_INDEX\nmatch_ACDBNAVISWORKSMODELDEF\n```\nThen removed their usage  \n```\n   ...\n   else if (obj-\u003etype == //the type)\n   ...\n```\nThen renamed these old functions\n```\nget_first_owned_object -\u003e get_first_owned_entity\nget_next_owned_object -\u003e get_next_owned_object\n```\nNow when I run the program against (test2.dwg) which i previously sent you\n\nlike so `./dwgfilter -i 'BLOCK_HEADER.xref_pname' /home/a/libredwg/dantest/test2.dwg` I get no output\n\nWhen I run the command `./dwgfilter '19' /home/a/libredwg/dantest/test2.dwg`\nI get the output \n```\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1905\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1195\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1930\n/home/a/libredwg/dantest/test2.dwg BLOCK_HEADER 1: REDACTED_PATH_TO_XREF\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1985\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1915\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1905\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 2190\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 2.191\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: SOME_REDACTED_FILE_NAME\n```\nNow '19' is a line entity according to `dwg.h` so im confused as to why its finding lots of MTEXT ? \n\nThanks\nDan","files":null},{"type":6,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1579277894,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDMzOTY2MDk2Mw=="},"target":"c098e6d7f0ae68f5c76804e85ffa5a1735e0cb298d84bca2e512a3ac42c0eee0","message":"Hi ruban, \n\nGreat work on the progress :smile: \n\nI have managed to modify the program to get it \"working\" but the output isn't particularly clear to me (maybe my modifications have broken things) \n\nFirst i have disabled the functions \n```\nmatch_MLINESTYLE\nmatch_LAYER_INDEX\nmatch_ACDBNAVISWORKSMODELDEF\n```\nThen removed their usage  \n```\n   ...\n   else if (obj-\u003etype == //the type)\n   ...\n```\nThen renamed these old functions\n```\nget_first_owned_object -\u003e get_first_owned_entity\nget_next_owned_object -\u003e get_next_owned_object\n```\nNow when I run the program against (test2.dwg) which i previously sent you\n\nlike so `./dwgfilter -i 'BLOCK_HEADER.xref_pname' /home/a/libredwg/dantest/test2.dwg` I get no output\n\nWhen I run the command `./dwgfilter '19' /home/a/libredwg/dantest/test2.dwg`\nI get the output \n```\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1905\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1195\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1930\n/home/a/libredwg/dantest/test2.dwg BLOCK_HEADER 1: REDACTED_PATH_TO_XREF\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1985\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1915\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 1905\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 2190\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: 2.191\n/home/a/libredwg/dantest/test2.dwg MTEXT 1: SOME_REDACTED_FILE_NAME\n```\nNow '19' is a line entity according to `dwg.h` so im confused as to why its finding lots of MTEXT ? \n\nThanks\nDan","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1579279601,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3NTcwNDQ1NA==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-575704454"},"message":"Ill take a look as your most recent commit when i get home, your commit style is abit odd so its difficult to really see whats changed","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1579284091,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3NTczMjAzMg==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-575732032"},"message":"@rurban  still getting tons of build errors on this new version","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1579521171,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3NjI0MTE0Nw==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-576241147"},"message":"d0b9def - yay no build errors :smile: \n\nIt still doesn't quite work as described: \n\u003e Now when I run the program against (test2.dwg) which i previously sent you\n\u003e \n\u003e like so ./dwgfilter -i 'BLOCK_HEADER.xref_pname' /home/a/libredwg/dantest/test2.dwg I get no output\n\u003e \n\u003e When I run the command ./dwgfilter '19' /home/a/libredwg/dantest/test2.dwg\n\u003e I get the output\n\u003e \n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 1905\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 1195\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 1930\n\u003e /home/a/libredwg/dantest/test2.dwg BLOCK_HEADER 1: REDACTED_PATH_TO_XREF\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 1985\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 1915\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 1905\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 2190\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: 2.191\n\u003e /home/a/libredwg/dantest/test2.dwg MTEXT 1: SOME_REDACTED_FILE_NAME\n\u003e \n\u003e Now '19' is a line entity according to dwg.h so im confused as to why its finding lots of MTEXT and an XREF path ?","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581610626,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NTg0MDAxNQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-585840015"},"message":"@rurban still semi frequently building this, it still doesn't quite work as expected in-regards to extracting xref names im using the command `dwgfilter 'BLOCK_HEADER.xref_pname' DWG_PATH` but it returns nothing\n\ndoing something silly like `dwgfilter '1' DWG_PATH` returns lots of items, some of which are xref paths which start with `BLOCK_HEADER 1:`, if there is anything I can do to help (development (if you can point me in the right direction) or more drawings) I would be happy todo so!","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581614655,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NTg1MDgwNA==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-585850804"},"message":"the current filter branch just has grep. the new filter will work via out json, jq, in json.\nJust working on that now. It's getting closer on r2000, just tables and fields are broken still.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581614655,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM1MTMxMDQ5MA=="},"target":"30db87d6e849526526e77c10e108c102067195ef3171d4f6dcf612ea33015cdf","message":"the current filter branch just has grep. the new filter will work via out json, jq, in json.\nJust working on that now. It's getting closer on r2000, just tables and fields are broken still. \n\nThe updated `work/dwgfilter` branch contains now the shell-script tp play with.","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581623715,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NTkxNjIzNw==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-585916237"},"message":"Can you hint at how id get xref names ? Thanks again ðŸ˜Š","files":null},{"type":6,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581623715,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM1MTM1MDkwMQ=="},"target":"1e31483e6c88f8716e8622286cd51f8b59e212242a0f1a3bbb19785bf5ec7b72","message":"~~Can you hint at how id get xref names ? ~~ I see whats going on (kinda) Thanks again ðŸ˜Š","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581627089,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NTk2NTY3NA==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-585965674"},"message":"@rurban this produces invalid json that python cant read, trailing values like  `\"value\": 3.` aren't valid","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581631910,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NTk5NzI2OQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-585997269"},"message":"\u003e @rurban this produces invalid json that python cant read, trailing values like `\"value\": 3.` aren't valid\n\nStill working on json...","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581638751,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NjAzMjk0Mg==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-586032942"},"message":"@rurban my coding skills in C are 0, For me it comes from the `\"type\": 69` \"DIMSTYLE\" - thats the only errors in my json so far - I spent a few hours trying to fix it but I give up!","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581749631,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NjU2MTQwMg==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-586561402"},"message":"DIMSTYLE type was broken indeed. Fixed with c21b6fff3f856f36c4938b6eec6f1d4bdabb8660","files":null},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581749631,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzA0MDcxNzMwMg=="},"status":2},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581766245,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NjU4MTAxMQ==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-586581011"},"message":"@rurban that didn't fix it :disappointed:","files":null},{"type":6,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1581766245,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM1MTczNjI0NA=="},"target":"bbe6b13eea30e37c66a9488b367970606163e6ae5b2e40e6f6b5809935346b00","message":"@rurban that didn't fix the json error's :disappointed:","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1581782606,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4NjYxMzQ0MA==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-586613440"},"message":"Then I'd love to get that DWG","files":null},{"type":3,"author":{"id":"b901396dfad1117b6a757f153373435aa40cde0e"},"timestamp":1582547161,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5MDI5NTk0MA==","github-url":"https://github.com/LibreDWG/libredwg/issues/64#issuecomment-590295940"},"message":"@rurban whats your email ?","files":null}]}