{"version":1,"ops":[{"type":6,"author":{"id":"91c03c2a61832454b51583c4b70919b2a4e98d81"},"timestamp":1580208999,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM0NDgwMjU4Nw=="},"target":"cff96758b73289e879bda9c35946bfa614fd346e25a6a6e2a3aa384dfa472d36","message":"FreeCAD now allows to export dwg's with libredwg if libredwg is available. We cannot make libredwg a hard dependency because of license issues (lgpl2 vs gpl3) but using it as an optional dependency should not be a problem.\n\nWe use the dwg2dxf command for importing dwgs and dxf2dwg for the export. The import seems to work for most objects. But the export has bigger issues:\n\n```\nWarning: dxf2dwg is still highly experimental.\nReading DXF file /tmp/tmp6_fiede5/test.dxf\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 3 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 4 for 1th entry\nWarning: Misleading LAYER_CONTROL.num_entries 5 for 2th entry\nWarning: Misleading STYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading STYLE_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading APPID_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading APPID_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading DIMSTYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nERROR: Unexpected DXF end-of-file\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 33 objects\nWarning: Object handle not found, 12/C in 33 objects\nWriting DWG file /home/lo/Schreibtisch/test.dwg\n```\n\nSo regarding this message dxf2dwg is not ready to use yet. Would be nice to get some feedback how much is missing for a working dxf2dwg and if there is anything testers/users can do to accelerate this process?\n\nsome version info\n```\nlibredwg                  0.10.1.2729\nOS: Ubuntu 18.04.3 LTS (ubuntu:GNOME/ubuntu)\n```","files":null},{"type":5,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580214504,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI5ODU0MzgyOTk="},"added":["help wanted"],"removed":[]},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580214792,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3OTIyMzUyOA==","github-url":"https://github.com/LibreDWG/libredwg/issues/195#issuecomment-579223528"},"message":"Great! Exciting.\n\nThose warning are bogus and can be ignored, I'll remove them.\n```\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 3 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 4 for 1th entry\nWarning: Misleading LAYER_CONTROL.num_entries 5 for 2th entry\nWarning: Misleading STYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading STYLE_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading APPID_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading APPID_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading DIMSTYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\n```\nIt was just a reminder during development of the importer, and I forgot to remove them. DXF has different structures than DWG.\n\nThose errors need to be investigated:\n```\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 33 objects\nWarning: Object handle not found, 12/C in 33 objects\n```","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580214792,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM0NDg1MjkzOA=="},"target":"44da4a4cd34379906aa988521d352efe77cecbc68767d773d75d185fc1d152ae","message":"Great! Exciting.\n\nThose warning are bogus and can be ignored, I'll remove them.\n```\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 3 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 4 for 1th entry\nWarning: Misleading LAYER_CONTROL.num_entries 5 for 2th entry\nWarning: Misleading STYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading STYLE_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading APPID_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading APPID_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading DIMSTYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\n```\nIt was just a reminder during development of the importer, and I forgot to remove them. DXF has different structures than DWG, some standard entries are always stored extra in a DWG.\n\nThose errors need to be investigated:\n```\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 33 objects\nWarning: Object handle not found, 12/C in 33 objects\n```","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580215089,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM0NDg1NTM5MA=="},"target":"44da4a4cd34379906aa988521d352efe77cecbc68767d773d75d185fc1d152ae","message":"Great! Exciting.\n\nThose warning are bogus and can be ignored, I'll remove them.\n```\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 3 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 4 for 1th entry\nWarning: Misleading LAYER_CONTROL.num_entries 5 for 2th entry\nWarning: Misleading STYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading STYLE_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading APPID_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading APPID_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading DIMSTYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\n```\nIt was just a reminder during development of the importer, and I forgot to remove them. DXF has different structures than DWG, some standard entries are always stored extra in a DWG.\n----\nThose errors need to be investigated:\n```\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 33 objects\nWarning: Object handle not found, 12/C in 33 objects\n```\n----\nQ: How much is missing?\nBasically need more examples, which fail to import into ACAD or fail to convert.\nIt's pretty close being called stable. I haven't cross-checked with Teigha, if all produced DWG's can be read by it systematically. Theiga has an audit flag, which is useful.\n\nQ: How to accelerate? Testing and reporting is fine. \nDebugging even better, but the DWG format is a bit convoluted, so it's not easy.","files":null},{"type":6,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580215113,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM0NDg1NTYwNw=="},"target":"44da4a4cd34379906aa988521d352efe77cecbc68767d773d75d185fc1d152ae","message":"Great! Exciting.\n\nThose warning are bogus and can be ignored, I'll remove them.\n```\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LTYPE_CONTROL.num_entries 0 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 3 for 0th entry\nWarning: Misleading LAYER_CONTROL.num_entries 4 for 1th entry\nWarning: Misleading LAYER_CONTROL.num_entries 5 for 2th entry\nWarning: Misleading STYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading STYLE_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading APPID_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading APPID_CONTROL.num_entries 3 for 1th entry\nWarning: Misleading DIMSTYLE_CONTROL.num_entries 2 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\nWarning: Misleading BLOCK_CONTROL.num_entries 5 for 0th entry\n```\nIt was just a reminder during development of the importer, and I forgot to remove them. DXF has different structures than DWG, some standard entries are always stored extra in a DWG.\n\nThose errors need to be investigated:\n```\nWarning: Unknown DXF code 287 for DIMSTYLE\nWarning: Unknown HEADER.DIMSTYLE STANDARD dxf:3\nWarning: Unknown HEADER.CMLSTYLE STANDARD dxf:2\nWarning: Object handle not found, 1/1 in 33 objects\nWarning: Object handle not found, 12/C in 33 objects\n```\n\nQ: How much is missing?\nBasically I need more examples, which fail to import into ACAD or fail to convert.\nIt's pretty close being called stable. I haven't cross-checked with Teigha, if all produced DWG's can be read by it systematically. Theiga has an audit flag, which is useful.\n\nQ: How to accelerate? Testing and reporting is fine. \nDebugging even better, but the DWG format is a bit convoluted, so it's not easy.","files":null},{"type":3,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580488640,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MDgwOTM0OA==","github-url":"https://github.com/LibreDWG/libredwg/issues/196#issuecomment-580809348"},"message":"Also DICTIONARY.numitems is the size of two arrays. Take the lowest number then.","files":null},{"type":4,"author":{"id":"b57a4f5420adf835b8b83469143e813bd4f12c78"},"timestamp":1580488640,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50Mjk5NzcyOTcyNg=="},"status":2}]}